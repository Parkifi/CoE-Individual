function ItemTransition(e,t){if(this.slideData=e,this.timeCounter=0,this.slidePosition=0,this.touchEnabled=!1,this.storyID=t,this.mainContainer=Ti.UI.createView(this.slideData.properties),this.mainContainer.touchEnabled=!1,this.slideData.transitionTime)if(this.slideData.images){var i,o=this.slideData.transitionTime/this.slideData.images.length;i=1e3>o?1e3:o,this.singleTransitionTime=i}else{var i;i=1e3>this.slideData.transitionTime?1e3:this.slideData.transitionTime,this.singleTransitionTime=i}else this.singleTransitionTime=2e3}ItemTransition.prototype.timerObject,ItemTransition.prototype.timeCounter,ItemTransition.prototype.slidePosition,ItemTransition.prototype.getContainer=function(){return this.mainContainer.add(this.createImage(0)),this.mainContainer},ItemTransition.prototype.start=function(){function e(){function e(){t.mainContainer.remove(t.mainContainer.children[0])}if(t.timeCounter>0)return t.stop(),t.timeCounter=0,!1;t.slidePosition==t.slideData.images.length-2&&t.timeCounter++,t.slidePosition<t.slideData.images.length-1?t.slidePosition++:t.slidePosition=0;var i=Ti.UI.createAnimation({opacity:0,duration:900});if(t.mainContainer.add(t.createImage(t.slidePosition)),t.mainContainer.children.length>1){var i=Ti.UI.createAnimation({opacity:0,duration:500});t.mainContainer.children[0].animate(i),i.addEventListener("complete",e)}}if(2>this.slideData.images.length)return!1;this.timerObject&&this.stop();var t=this;this.timerObject=setInterval(e,this.singleTransitionTime),e("x")},ItemTransition.prototype.stop=function(){this.timerObject&&(clearInterval(this.timerObject),this.timerObject=null)},ItemTransition.prototype.createImage=function(e){var t={image:Titanium.Filesystem.applicationCacheDirectory+this.storyID+"/"+this.slideData.images[e],width:Ti.UI.FILL,height:Ti.UI.FILL,bottom:0,right:0,zIndex:1,touchEnabled:!1,opacity:0},i=Ti.UI.createImageView(t),o=Ti.UI.createAnimation({opacity:1,duration:1e3});return i.animate(o),i},ItemTransition.prototype.clean=function(){this.stop(),this.timerObject=null,this.timeCounter=null,this.slidePosition=null},ItemTransition.prototype.getClickDelayTime=function(){var e=1e3*this.slideData.images.length;return this.slideData.transitionTime>e?this.slideData.transitionTime:e},ItemTransition.prototype.createContainer=function(){},module.exports=ItemTransition;